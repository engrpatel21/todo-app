(this.webpackJsonpbinge=this.webpackJsonpbinge||[]).push([[0],{196:function(e,t){},210:function(e,t,a){e.exports=a(361)},215:function(e,t,a){},217:function(e,t,a){},361:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(41),i=a.n(r),c=(a(215),a(35)),l=a.n(c),s=a(197),d=a(66),h=a(20),u=a(21),m=a(23),p=a(22),f=a(9),g=(a(217),a(376)),b=a(375),v=a(37),E=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={activeItem:"home"},e.handleItemClick=function(t,a){var n=a.name;return e.setState({activeItem:n})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.activeItem;return o.a.createElement(g.a,{inverted:!0},o.a.createElement(b.a,{inverted:!0,pointing:!0,secondary:!0},o.a.createElement(b.a.Item,{as:v.b,to:"/",name:"React CRUD guide",active:"React CRUD guide"===e,onClick:this.handleItemClick}),o.a.createElement(b.a.Item,{as:v.b,to:"/todo",name:"todos",active:"todos"===e,onClick:this.handleItemClick}),o.a.createElement(b.a.Item,{as:v.b,to:"/addtodo",name:"add todo",active:"add todo"===e,onClick:this.handleItemClick})))}}]),a}(n.Component),w=a(369),y=a(377),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{text:!0},o.a.createElement(y.a,{as:"h2",style:{textAlign:"center"}},"How perform CRUD operations in React"),o.a.createElement("p",null,"This simple todo app demonstrates the very basics of a full stack application in React. CRUD is an acronym that stands for create, read, update, and delete operations on a backend database."),o.a.createElement("p",null,"This little guide will cover the steps it took to create this Todo app in the MERN stack. MERN is another acronym that describes the technology stack that was used to create the app. The technologies used were MongoDB, Express, Reach, and Node.js. Node was used to write the server and Express is the middleware that was used. MongoDB is our backend database and React is our front end. We will be performing CRUD on the front end in react to change data in our backend, MongoDB, through our Node.js server."),o.a.createElement("p",null,"I started on a starter template that had all the basic server written up. It also had React with all dependencies installed. This app was written with Semantic UI so I manually installed those dependacies. From here i turned App.js into a stateful component so that I can hold my data in state from an api call to the backend."),o.a.createElement("p",null,"From here I made a navbar component so that I that navigate between different pages. React-Router will be used to accomplish this. I set up my menu options and my paths. I import the componenet into App.js and I test them to make sure I can navigate between the pages."),o.a.createElement("p",null,"The next thing I need is a form. I make another stateful component so that I can hold the data entered in the form in state so that it can be used inconjunction with an api call to create data. In this component I import form components from semantic ui. Our Todo model in the back end will have a name and description attribute, so my form will reflect this. The input fields will have an onChange attribute that will equal a function that will handle changes to the DOM. The form needs to have a ref attribute created through React.createRef() to accomplish. There will also need to be an onSubmit function that will take in the form data and send it to the database to be created."),o.a.createElement("p",null,"Now that I have the UI element created I need to make sure I have the backend setup as the only thing that is setup is a default route. I need to create a route using express and make sure that my server is using that route. There will be 4 routes, one for each part of CRUD. The first route will be the create route which will be '/api/todos'. Once the route is created and being used by the server need create a modle using MongoDb. I connected my server in /config/database.js then proceed to make a modle. As mentioned the model will have name and description for the todo. Next will be a the controller. In the controller I create a function to create a document in MongoDb."),o.a.createElement("p",null,"Once a route to the backend is complete to create data, I need to create a service. In the todoService.js file I make create function to make an api call to the backend route. Before this can happen I need to make sure that package.json has the proxy set to localhost:3001 which is the port where the server is running."),o.a.createElement("p",null,"Once the api function is created and exported, I import this function in App.js where my data for the todo's will live. Since the form is in another component, I will need create a function that utilizes the api in App.js and pass it down to the form component as a prop."),o.a.createElement("p",null,"In the form component I will use the function from App.js in the onSubmit function to create the data. Once verify that the data is showing up on the backend I work on the index function which is the read in CRUD."),o.a.createElement("p",null,"I follow the same process over and make sure there is a route to the back and a function in the controller get all the data from the backend. Once those are created I will create service to the backend. Again back in App.js I will use componentDidMount to make the api call so that I can populate the data from the backend in state as soon as components load."),o.a.createElement("p",null,"Once I verify that the data is coming through in state through chrome dev tools, I pass down the state as props to a component that will display all the data in a list. I also write backend routes to delete and update data, create those services, then create those functions ins App.js."),o.a.createElement("p",null,"On the component that shows all the todos I create a button to delete the data. Since I am using map to get each todo in its own component, I can create a button to delete a single todo. Using the service and routes already created I test the functionality."),o.a.createElement("p",null,"The edit fucntionality is handled simliarly. Adding a button to the individual component shows a form similar to one used to add the todo and a function handed down from App.js to edit the data."),o.a.createElement("p",null,"With that full crud is implemented in this App and deployed to heroku.")))}}]),a}(n.Component),I=a(378),j=a(52),C=a(54),O=a(372),x=a(370),D=a(371),T=a(374),A=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isEdit:!1,formData:e.props.todo},e.handleChange=function(t){var a=Object(C.a)(Object(C.a)({},e.state.formData),{},Object(j.a)({},t.target.name,t.target.value));e.setState({formData:a})},e.handleSubmit=function(t){t.preventDefault(),e.renderEdit(),e.props.handleUpdate(e.state.formData)},e.renderEdit=function(){e.setState({isEdit:!e.state.isEdit,formData:e.props.todo})},e.formRef=o.a.createRef(),e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isEdit,a=(e.formData,this.props),n=a.todo,r=a.handleDelete;a.handleUpdate;return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(I.a.Column,{style:{width:"auto"}},o.a.createElement(O.a,{style:{marginBottom:"10px",width:"300px",height:"auto"}},o.a.createElement(O.a.Content,{style:{fontSize:"1.2rem",height:"auto",zIndex:"1000",padding:"1rem"}},o.a.createElement(x.a,{ref:this.formRef,onSubmit:this.handleSubmit},o.a.createElement(I.a,null,o.a.createElement(I.a.Column,{width:16},o.a.createElement(x.a.Input,{onChange:this.handleChange,value:this.state.formData.name,name:"name",style:{height:"2.5rem",marginBottom:"1rem"}}))),o.a.createElement(O.a.Description,{style:{height:"220px",fontSize:"1.2rem"}},o.a.createElement(x.a.TextArea,{name:"description",value:this.state.formData.description,onChange:this.handleChange,rows:9})))),o.a.createElement(O.a.Content,{extra:!0},o.a.createElement(D.a,{style:{},content:"Click here to confirm change",trigger:o.a.createElement(T.a,{onClick:this.handleSubmit,icon:"check",floated:"left",basic:!0,color:"green",size:"small"})}),o.a.createElement(D.a,{style:{},content:"Click here to cancel change",trigger:o.a.createElement(T.a,{onClick:this.renderEdit,icon:"x",floated:"right",basic:!0,color:"red",size:"small"})})))):o.a.createElement(I.a.Column,{style:{width:"auto"}},o.a.createElement(O.a,{style:{marginBottom:"10px",width:"300px",height:"auto"}},o.a.createElement(O.a.Content,{style:{fontSize:"1rem",height:"auto",zIndex:"1000"}},o.a.createElement(O.a.Header,{style:{wordWrap:"break-word"}},n.name)),o.a.createElement(O.a.Content,{style:{height:"250px",fontSize:"1.2rem"}},o.a.createElement(O.a.Description,null,n.description," ")),o.a.createElement(O.a.Content,{extra:!0},o.a.createElement(D.a,{style:{},content:"Click here to confirm edit",trigger:o.a.createElement(T.a,{onClick:this.renderEdit,icon:"edit",floated:"left",basic:!0,color:"blue",size:"small"})}),o.a.createElement(D.a,{style:{},content:"Click here to confirm delete",trigger:o.a.createElement(T.a,{onClick:function(){return r(n._id)},icon:"x",floated:"right",basic:!0,color:"red",size:"small"})})))))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.todos,a=e.handleDeleteTodo,n=e.handleUpdateTodo;return o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{columns:"equal",divided:!0},o.a.createElement(I.a.Row,{style:{margin:"0px 30px"}},o.a.createElement(I.a.Column,null,o.a.createElement(w.a,{textAlign:"center",style:{fontSize:"3rem",height:"3rem"}},"Todos"),o.a.createElement(I.a,null,o.a.createElement(I.a.Row,{style:{margin:"0 30px"}},t.map((function(e,t){return o.a.createElement(A,{todo:e,handleDelete:a,handleUpdate:n,key:t})}))))))))}}]),a}(n.Component),R=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={invalidForm:!0,formData:{name:"",description:""}},e.handleSubmit=function(t){t.preventDefault(),e.props.handleAddTodo(e.state.formData)},e.handleChange=function(t){var a=Object(C.a)(Object(C.a)({},e.state.formData),{},Object(j.a)({},t.target.name,t.target.value));e.setState({formData:a,invalidForm:!a.name.length||!a.description.length})},e.formRef=o.a.createRef(),e}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{verticalAlign:"middle",columns:4,centered:!0},o.a.createElement(I.a.Row,null,o.a.createElement(I.a.Column,null,o.a.createElement("h1",{style:{textAlign:"center"}},"Add Todo"),o.a.createElement(x.a,{ref:this.formRef,onSubmit:this.handleSubmit},o.a.createElement(x.a.Input,{placeholder:"Name",value:this.state.formData.name,name:"name",onChange:this.handleChange}),o.a.createElement(x.a.TextArea,{placeholder:"Description",value:this.state.formData.description,name:"description",onChange:this.handleChange,rows:5}),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(x.a.Button,{style:{margin:"0 auto"},content:"Add Todo",positive:!0,disabled:this.state.invalidForm}))))))))}}]),a}(n.Component);function U(e){return fetch("/api/todos",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}function z(e){return fetch("".concat("/api/todos","/").concat(e),{method:"DELETE"}).then((function(e){return e.json()}))}function F(e){return fetch("".concat("/api/todos","/").concat(e._id),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}var M=a(196),B=a.n(M),N=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={todos:[]},e.handleAddTodo=function(){var t=Object(d.a)(l.a.mark((function t(a){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("newtododata",a),t.next=3,U(a);case 3:n=t.sent,console.log("newtodo",n),e.setState({todos:[].concat(Object(s.a)(e.state.todos),[n])},(function(){return e.props.history.push("/todo")}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDeleteTodo=function(){var t=Object(d.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(a);case 2:e.setState({todos:e.state.todos.filter((function(e){return e._id!==a}))},(function(){return e.props.history.push("/todo")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleUpdateTodo=function(){var t=Object(d.a)(l.a.mark((function t(a){var n,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(a);case 2:n=t.sent,o=e.state.todos.map((function(e){return e._id===n._id?n:e})),e.setState({todos:o},(function(){return e.props.history.push("/todo")}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/todos").then((function(e){return e.json()}));case 2:t=e.sent,this.setState({todos:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,null),o.a.createElement(f.a,{exact:!0,path:"/",render:function(){return o.a.createElement(k,{todos:e.state.todos,refresh:e.refreshPage})}}),o.a.createElement(f.a,{exact:!0,path:"/addtodo",render:function(){return o.a.createElement(R,{handleAddTodo:e.handleAddTodo})}}),o.a.createElement(f.a,{exact:!0,path:"/todo",render:function(t){var a=t.location;return o.a.createElement(S,{handleUpdateTodo:e.handleUpdateTodo,handleDeleteTodo:e.handleDeleteTodo,location:a,todos:e.state.todos})}}),o.a.createElement(f.a,{exact:!0,path:"/edit",render:function(t){var a=t.location;return o.a.createElement(B.a,{handleUpdateTodo:e.handleUpdateTodo,handleDeleteTodo:e.handleDeleteTodo,location:a,todos:e.state.todos})}}))}}]),a}(n.Component);a(360),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(v.a,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,{render:function(e){var t=e.history;return o.a.createElement(N,{history:t})}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.41c721f0.chunk.js.map